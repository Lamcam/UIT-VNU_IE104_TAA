<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="author" content="IE104.O12_Group3">
  <meta name="description" content="Trang web TAA là một nền tảng thương mại 
    điện tử chuyên về bán đồ phụ kiện trang sức. Với sự tập trung vào việc cung
    cấp những sản phẩm chất lượng cao và thiết kế độc đáo, TAA đã trở thành
    điểm đến lý tưởng cho những người đam mê phụ kiện và trang sức.">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/TAA_FE/src/base.css">
  <link rel="stylesheet" href="./style.css">
  <script src="https://code.jquery.com/jquery-3.3.1.js"
    integrity="sha256-2Kok7MbOyxpgUVvAk/HJ2jigOSYS2auK4Pfzbm7uH60"
    crossorigin="anonymous"></script>
  <script src="/TAA_FE/res/js/main.js"></script>
  <title>TAA - Giỏ hàng</title>
</head>
<body>
  <div id="main" class="on-primary">
    <div id="header"></div>
    <div id="nav-tree"></div>

    <main>
      <section class="mt-12">
        <div class="container row">
          <section class="col-8">
            <table class="visible" style="overflow: hidden">
              <thead class="primary on-primary-text"></thead>
              <tbody></tbody>
            </table>
          </section>
          <aside class="col-4">
            <div class="container visible body-large">
              <div class="row">
                <h2 class="col-12 aside__title title-large">Hóa đơn của bạn</h2>
              </div>
              <hr>
              <div class="row">
                <span class="col-6 detail__title">Tạm tính:</span>
                <span class="col-6 detail__context">Giá trị</span>
              </div>
              <div class="row">
                <span class="col-6 detail__title">Giảm giá:</span>
                <span class="col-6 detail__context">Giá trị</span>
              </div>
              <hr>
              <div class="row">
                <span class="col-6 detail__title">Tổng cộng:</span>
                <span class="col-6 detail__context">Giá trị</span>
              </div>
              <div class="row">
                <span class="col-12 detail__context">(Đã bao gồm phí VAT)</span>
              </div>
              <div class="row" style="justify-content: end;">
                <button class="btn--filled" type="button">
                  <div class="status-layer">
                    <span class="label-large">Tiến hành đặt hàng</span>
                  </div>
                </button>
              </div>
            </div>
          </aside>
        </div>
      </section>
    </main>

    <!-- <footer></footer> -->
    <div id="footer"></div>

    <!-- Modal -->
  </div>
  <script>
    // Load header, nav-tree, footer
    $(document).ready(function () {
      $('#header').load('/TAA_FE/src/partials/header--auth.html');
      $('#nav-tree').load('/TAA_FE/src/partials/nav-tree.html');
      $('#footer').load('/TAA_FE/src/partials/footer.html');
    });

    // Load table of products
    $(document).ready(function () {
      $('thead').append(`
        <tr>
          <th><span class="btn-checkbox">
            <input type="checkbox" id="f_all_prod" name="f_all_prod">
            <label for="f_all_prod">
              <span class="icon material-symbols-outlined">
                check_box_outline_blank</span>
              <span class="icon material-symbols-outlined --checked">
                check_box</span>
              <span class="icon material-symbols-outlined --indeterminate">
                indeterminate_check_box</span>
            </label>
          </span></th>
          <th colspan="2">Sản phẩm</th>
          <th>Giá tiền</th>
          <th>Số lượng</th>
          <th>Thành tiền</th>
          <th>Thao<br>tác</th>
        </tr>`);
      const lst = [1, 2, 3, 4, 5];
      lst.forEach((i) => {
        $('tbody').append(`
          <tr>
            <th><span class="btn-checkbox">
              <input type="checkbox" id="f_prod_${i}" name="f_prod_${i}">
              <label for="f_prod_${i}">
                <span class="icon material-symbols-outlined">
                  check_box_outline_blank</span>
                <span class="icon material-symbols-outlined --checked">
                  check_box</span>
                <span class="icon material-symbols-outlined --indeterminate">
                  indeterminate_check_box</span>
              </label>
            </span></th>
            <td><img src="/TAA_FE/res/imgs/prod0001.png" alt="Image of Product"></td>
            <td>Tên sản phẩm</td>
            <td>Giá tiền</td>
            <td>
              <div class="btn-group">
                <button class="btn-icon">
                  <div class="status-layer">
                    <span class="icon material-symbols-outlined">remove</span>
                  </div>
                </button>
                <span class="btn-text">1</span>
                <button class="btn-icon">
                  <div class="status-layer">
                    <span class="icon material-symbols-outlined">add</span>
                  </div>
                </button>
              </div>
            </td>
            <td>Thành tiền</td>
            <td style="display: flex; justify-content: center; align-items: center;">
              <button class="btn-icon">
                <div class="status-layer">
                  <span class="icon material-symbols-outlined">delete</span>
                </div>
              </button>
            </td>
          </tr>`);
      });
    })

    // Setting checkbox for all products is checked or not appending on the number of products
    $(document).ready(function () {
      $('#f_all_prod').click(function () {
        if ($(this).is(':checked')) {
          $('input[name^="f_prod_"]').prop('checked', true);
        } else {
          $('input[name^="f_prod_"]').prop('checked', false);
        }
      });

      $('input[name^="f_prod_"]').click(function () {
        if ($('input[name^="f_prod_"]:checked').length === $('input[name^="f_prod_"]').length) {
          $('#f_all_prod').prop('checked', true).prop('indeterminate', false);
        } else if ($('input[name^="f_prod_"]:checked').length === 0) {
          $('#f_all_prod').prop('checked', false).prop('indeterminate', false);
        } else {
          $('#f_all_prod').prop('checked', false).prop('indeterminate', true);
        }
      });
    });
  </script>
  <script src="/TAA_FE/res/js/modal--controller.js"></script>
</body>
</html>